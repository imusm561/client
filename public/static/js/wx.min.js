const e=new URLSearchParams(document.currentScript.src.split("?")[1]),t=e.get("appid"),o=e.get("scope"),n=new URLSearchParams(window.location.search),c=n.get("code"),a=n.get("state"),r=()=>{const e=new URL(window.location.href);e.searchParams.delete("code"),e.searchParams.delete("state");const n=encodeURIComponent(e.toString());window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${t}&redirect_uri=${n}&response_type=code&scope=${o}&state=STATE#wechat_redirect`};null===t||null===o||null!==c&&null!==a||r()